DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'VidzyCF.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202202261413533_AddGenresAndVideosTables'
BEGIN
    CREATE TABLE [dbo].[Genres] (
        [Id] [tinyint] NOT NULL,
        [Name] [nvarchar](max),
        CONSTRAINT [PK_dbo.Genres] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[Videos] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [ReleasedData] [datetime] NOT NULL,
        CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[VideoGenres] (
        [Video_Id] [int] NOT NULL,
        [Genre_Id] [tinyint] NOT NULL,
        CONSTRAINT [PK_dbo.VideoGenres] PRIMARY KEY ([Video_Id], [Genre_Id])
    )
    CREATE INDEX [IX_Video_Id] ON [dbo].[VideoGenres]([Video_Id])
    CREATE INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]([Genre_Id])
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202261413533_AddGenresAndVideosTables', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400DD59CD6EE33610BE17E83B083AB545D64AB29736B0779175E222E8E6077112F416D0D2D8214A512A4905F6167DB21EFA487D850EF52F52926577E16D8B008125CEFF7C1CCE507FFDF1E7F8FD3A64CE2B0849233E714F46C7AE03DC8F02CA57133751CB37DFBBEFDF7DFDD5F83208D7CE5341F756D321279713F745A9F8CCF3A4FF022191A390FA2292D1528DFC28F4481079A7C7C73F7827271EA008176539CEF83EE18A86903EE0E334E23EC42A21EC3A0A80C9FC3DAECC53A9CE0D0941C6C48789FB44834F9BE9CC75CE1925A87E0E6CE93A84F3481185C69D3D4A982B11F1D53CC617843D6C6240BA25611272A3CF2AF2A1F61F9F6AFBBD8AB110E5275245E18E024FDEE601F14CF6BDC2EA9601C3905D6268D5467B9D866DE2FE085CA0E7A6A6B329139AAA0CE928253C72F2C7A332DD880AFD77E44C13A61201130E8912841D3977C98251FF27D83C44BF009FF084B1BA2D680DAE355EE0AB3B11C520D4E61E96B9855781EB784D3ECF642CD96A3C99F91F360ADDBB41DD64C1A0CCB4D7CBAEFF1702102E0877D7B926EB8FC057EA65E2E24FD799D13504C59B5CEA23A7B83B904989C45672435EE92A8DAEA10E630A91749D7B60E9B27CA17186DD51BAF49C276926A2F03E620547F6FAF9818815283437B2D7E651227CC392B15781A0171AA9A021D04809FF7BD0B8E2EAED690B366AAECE5524004309822808EE885220B8960169B0BE0C8E0C25881A2012820BA248A10C7FC3030D0720BF139439E6F6C36481BB364C16781D82C97329239FA606D441992B6F7A72C903A7C7922C09A5FD980804258D1186A877E27E6745A65D5EB9DB2A7979247AE58DBD9A2BF6AEC3334E118A30CBBD3C8FB5A094F862A11761AD5A76229E66F9669439564C17B4F039A87A4EB1D054C16EBA6045A0C95ED4298B3D8FA8C15EF3D8905180A746D1822D73FFF727B834B6B2D31B26A148694D421128B3B8345D6A017099C8AA4BF1B236A56867BC8E7E667C4DE2182B44ADBFC9DF38F3ACB999BE99EFDE0084990CCF972D7D40696DA909EB1D5981B18AAAD1D2191552E922B320BA8E4C83D0226B856D07A60A950D64DA092B905690EBDF2592AAC6C4E4ACA2374387422CD7A96F60E6D8E64BFB4AC288683937A6114B42DE75F6F4716727419D3F7B634B187B86E1664C3C2B280648CD100F4A40BE67F64940B6FB774F4007DF974E409784E6395B97D45C397C4A9B55A925AF45BDEDC85DB1DC9AA0CE5ADCD6C4366BB21D884189CD24B5A55707A2D4BB9B497991DFD3A44CC66E2699A7859D3AEBD030494AE094878771488CF382BD7D32B62A7846E23A68FB2BC609ABF77C231584234D309AFFCAA68C22542B826BC2E912A4CA5A7617E7D45363CEFEF7CCBC9E94011B32F81E7CE850946FA80EEB3F1849F92B11FE0B11DF8464FD6D5D923D2EEC38EC1D3C1C6928B64E598789D5B0D12A401BD5F6D16AB7C0EF0DC69E5A69137755B1ED09ABD4D4D2668D23573C80F5C4FD2D653A73AE7E7E2EF88E9C5B8125E4CC39767EDF399D95D9C6161A6040C1BB83017BCDA2AD479E396F6C9F424FAC83F6965F20081538E77E564CA744FA24B083A6CFA15EEDB51EA06EC290E9555FCAC21284DE8F84E1712595C003CBEA63EE04E53E8D096B786D9FB943AA8876A99467AE5C400C5C9707DBC121DAFA3A8C52B411DE6D01E89CF0FB71D3D697D4326727AD355FFF33DC0CCFE46171D3D7067E76DCB4DF0CD993F8802B9FEE1B9FAC0BC4536DA1AB5356133B2E3F5A6F83BA2F83DA24B75FCCB44BEE32BCBED8A9A3C3856D3752E56552EFC554C77863577B6BD6DD7A23D570DA9CC186DF460D71B5B8F5EA77B57D6CB20B9475AF72285777B878B36725DC9DB56F8D581D245D5522F497470E7E635F9634577C191505C2B0A82031DA986B50049B47722E145D125FE1B20F52A61F059E084B90E4325C4070C56F1315270A5D8670C11A1F197499E9D39FDE2E366D1EDFC6E9FDFDE77001CDA4BAFFBDE51F12CA82D2EE594B17D52142D7AFBCD5D7B954BAE55F6D4A4937111F28280F5F59761F208C190A93B77C4E5E611FDB1E257C8415F137C5C8DB2D647B229A611F5F50B2122494B98C8A1F1F11C341B87EF737A2137C1E721F0000 , N'6.4.4')
END

IF @CurrentMigration < '202202261507391_PopulatingGenresTable'
BEGIN
    INSERT INTO Genres (Id, Name) VALUES (1, 'Action')
    INSERT INTO Genres (Id, Name) VALUES (2, 'Drama')
    INSERT INTO Genres (Id, Name) VALUES (3, 'Romance')
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202261507391_PopulatingGenresTable', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400DD59CD6EE33610BE17E83B083AB545D64AB29736B0779175E222E8E6077112F416D0D2D8214A512A4905F6167DB21EFA487D850EF52F52926577E16D8B008125CEFF7C1CCE507FFDF1E7F8FD3A64CE2B0849233E714F46C7AE03DC8F02CA57133751CB37DFBBEFDF7DFDD5F83208D7CE5341F756D321279713F745A9F8CCF3A4FF022191A390FA2292D1528DFC28F4481079A7C7C73F7827271EA008176539CEF83EE18A86903EE0E334E23EC42A21EC3A0A80C9FC3DAECC53A9CE0D0941C6C48789FB44834F9BE9CC75CE1925A87E0E6CE93A84F3481185C69D3D4A982B11F1D53CC617843D6C6240BA25611272A3CF2AF2A1F61F9F6AFBBD8AB110E5275245E18E024FDEE601F14CF6BDC2EA9601C3905D6268D5467B9D866DE2FE085CA0E7A6A6B329139AAA0CE928253C72F2C7A332DD880AFD77E44C13A61201130E8912841D3977C98251FF27D83C44BF009FF084B1BA2D680DAE355EE0AB3B11C520D4E61E96B9855781EB784D3ECF642CD96A3C99F91F360ADDBB41DD64C1A0CCB4D7CBAEFF1702102E0877D7B926EB8FC057EA65E2E24FD799D13504C59B5CEA23A7B83B904989C45672435EE92A8DAEA10E630A91749D7B60E9B27CA17186DD51BAF49C276926A2F03E620547F6FAF9818815283437B2D7E651227CC392B15781A0171AA9A021D04809FF7BD0B8E2EAED690B366AAECE5524004309822808EE885220B8960169B0BE0C8E0C25881A2012820BA248A10C7FC3030D0720BF139439E6F6C36481BB364C16781D82C97329239FA606D441992B6F7A72C903A7C7922C09A5FD980804258D1186A877E27E6745A65D5EB9DB2A7979247AE58DBD9A2BF6AEC3334E118A30CBBD3C8FB5A094F862A11761AD5A76229E66F9669439564C17B4F039A87A4EB1D054C16EBA6045A0C95ED4298B3D8FA8C15EF3D8905180A746D1822D73FFF727B834B6B2D31B26A148694D421128B3B8345D6A017099C8AA4BF1B236A56867BC8E7E667C4DE2182B44ADBFC9DF38F3ACB999BE99EFDE0084990CCF972D7D40696DA909EB1D5981B18AAAD1D2191552E922B320BA8E4C83D0226B856D07A60A950D64DA092B905690EBDF2592AAC6C4E4ACA2374387422CD7A96F60E6D8E64BFB4AC288683937A6114B42DE75F6F4716727419D3F7B634B187B86E1664C3C2B280648CD100F4A40BE67F64940B6FB774F4007DF974E409784E6395B97D45C397C4A9B55A925AF45BDEDC85DB1DC9AA0CE5ADCD6C4366BB21D884189CD24B5A55707A2D4BB9B497991DFD3A44CC66E2699A7859D3AEBD030494AE094878771488CF382BD7D32B62A7846E23A68FB2BC609ABF77C231584234D309AFFCAA68C22542B826BC2E912A4CA5A7617E7D45363CEFEF7CCBC9E94011B32F81E7CE850946FA80EEB3F1849F92B11FE0B11DF8464FD6D5D923D2EEC38EC1D3C1C6928B64E598789D5B0D12A401BD5F6D16AB7C0EF0DC69E5A69137755B1ED09ABD4D4D2668D23573C80F5C4FD2D653A73AE7E7E2EF88E9C5B8125E4CC39767EDF399D95D9C6161A6040C1BB83017BCDA2AD479E396F6C9F424FAC83F6965F20081538E77E564CA744FA24B083A6CFA15EEDB51EA06EC290E9555FCAC21284DE8F84E1712595C003CBEA63EE04E53E8D096B786D9FB943AA8876A99467AE5C400C5C9707DBC121DAFA3A8C52B411DE6D01E89CF0FB71D3D697D4326727AD355FFF33DC0CCFE46171D3D7067E76DCB4DF0CD993F8802B9FEE1B9FAC0BC4536DA1AB5356133B2E3F5A6F83BA2F83DA24B75FCCB44BEE32BCBED8A9A3C3856D3752E56552EFC554C77863577B6BD6DD7A23D570DA9CC186DF460D71B5B8F5EA77B57D6CB20B9475AF72285777B878B36725DC9DB56F8D581D245D5522F497470E7E635F9634577C191505C2B0A82031DA986B50049B47722E145D125FE1B20F52A61F059E084B90E4325C4070C56F1315270A5D8670C11A1F197499E9D39FDE2E366D1EDFC6E9FDFDE77001CDA4BAFFBDE51F12CA82D2EE594B17D52142D7AFBCD5D7B954BAE55F6D4A4937111F28280F5F59761F208C190A93B77C4E5E611FDB1E257C8415F137C5C8DB2D647B229A611F5F50B2122494B98C8A1F1F11C341B87EF737A2137C1E721F0000 , N'6.4.4')
END

IF @CurrentMigration < '202202261710466_AddVideosData'
BEGIN
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (1,3)
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (1,2)
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (2,1)
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (3,2)
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202261710466_AddVideosData', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400DD59CD6EE33610BE17E83B083AB545D64AB29736B0779175E222E8E6077112F416D0D2D8214A512A4905F6167DB21EFA487D850EF52F52926577E16D8B008125CEFF7C1CCE507FFDF1E7F8FD3A64CE2B0849233E714F46C7AE03DC8F02CA57133751CB37DFBBEFDF7DFDD5F83208D7CE5341F756D321279713F745A9F8CCF3A4FF022191A390FA2292D1528DFC28F4481079A7C7C73F7827271EA008176539CEF83EE18A86903EE0E334E23EC42A21EC3A0A80C9FC3DAECC53A9CE0D0941C6C48789FB44834F9BE9CC75CE1925A87E0E6CE93A84F3481185C69D3D4A982B11F1D53CC617843D6C6240BA25611272A3CF2AF2A1F61F9F6AFBBD8AB110E5275245E18E024FDEE601F14CF6BDC2EA9601C3905D6268D5467B9D866DE2FE085CA0E7A6A6B329139AAA0CE928253C72F2C7A332DD880AFD77E44C13A61201130E8912841D3977C98251FF27D83C44BF009FF084B1BA2D680DAE355EE0AB3B11C520D4E61E96B9855781EB784D3ECF642CD96A3C99F91F360ADDBB41DD64C1A0CCB4D7CBAEFF1702102E0877D7B926EB8FC057EA65E2E24FD799D13504C59B5CEA23A7B83B904989C45672435EE92A8DAEA10E630A91749D7B60E9B27CA17186DD51BAF49C276926A2F03E620547F6FAF9818815283437B2D7E651227CC392B15781A0171AA9A021D04809FF7BD0B8E2EAED690B366AAECE5524004309822808EE885220B8960169B0BE0C8E0C25881A2012820BA248A10C7FC3030D0720BF139439E6F6C36481BB364C16781D82C97329239FA606D441992B6F7A72C903A7C7922C09A5FD980804258D1186A877E27E6745A65D5EB9DB2A7979247AE58DBD9A2BF6AEC3334E118A30CBBD3C8FB5A094F862A11761AD5A76229E66F9669439564C17B4F039A87A4EB1D054C16EBA6045A0C95ED4298B3D8FA8C15EF3D8905180A746D1822D73FFF727B834B6B2D31B26A148694D421128B3B8345D6A017099C8AA4BF1B236A56867BC8E7E667C4DE2182B44ADBFC9DF38F3ACB999BE99EFDE0084990CCF972D7D40696DA909EB1D5981B18AAAD1D2191552E922B320BA8E4C83D0226B856D07A60A950D64DA092B905690EBDF2592AAC6C4E4ACA2374387422CD7A96F60E6D8E64BFB4AC288683937A6114B42DE75F6F4716727419D3F7B634B187B86E1664C3C2B280648CD100F4A40BE67F64940B6FB774F4007DF974E409784E6395B97D45C397C4A9B55A925AF45BDEDC85DB1DC9AA0CE5ADCD6C4366BB21D884189CD24B5A55707A2D4BB9B497991DFD3A44CC66E2699A7859D3AEBD030494AE094878771488CF382BD7D32B62A7846E23A68FB2BC609ABF77C231584234D309AFFCAA68C22542B826BC2E912A4CA5A7617E7D45363CEFEF7CCBC9E94011B32F81E7CE850946FA80EEB3F1849F92B11FE0B11DF8464FD6D5D923D2EEC38EC1D3C1C6928B64E598789D5B0D12A401BD5F6D16AB7C0EF0DC69E5A69137755B1ED09ABD4D4D2668D23573C80F5C4FD2D653A73AE7E7E2EF88E9C5B8125E4CC39767EDF399D95D9C6161A6040C1BB83017BCDA2AD479E396F6C9F424FAC83F6965F20081538E77E564CA744FA24B083A6CFA15EEDB51EA06EC290E9555FCAC21284DE8F84E1712595C003CBEA63EE04E53E8D096B786D9FB943AA8876A99467AE5C400C5C9707DBC121DAFA3A8C52B411DE6D01E89CF0FB71D3D697D4326727AD355FFF33DC0CCFE46171D3D7067E76DCB4DF0CD993F8802B9FEE1B9FAC0BC4536DA1AB5356133B2E3F5A6F83BA2F83DA24B75FCCB44BEE32BCBED8A9A3C3856D3752E56552EFC554C77863577B6BD6DD7A23D570DA9CC186DF460D71B5B8F5EA77B57D6CB20B9475AF72285777B878B36725DC9DB56F8D581D245D5522F497470E7E635F9634577C191505C2B0A82031DA986B50049B47722E145D125FE1B20F52A61F059E084B90E4325C4070C56F1315270A5D8670C11A1F197499E9D39FDE2E366D1EDFC6E9FDFDE77001CDA4BAFFBDE51F12CA82D2EE594B17D52142D7AFBCD5D7B954BAE55F6D4A4937111F28280F5F59761F208C190A93B77C4E5E611FDB1E257C8415F137C5C8DB2D647B229A611F5F50B2122494B98C8A1F1F11C341B87EF737A2137C1E721F0000 , N'6.4.4')
END

IF @CurrentMigration < '202202261719104_PopulateVideoGenresTable'
BEGIN
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (1,3)
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (1,2)
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (2,1)
    INSERT INTO VideoGenres (Video_Id, Genre_Id) VALUES (3,2)
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202261719104_PopulateVideoGenresTable', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400DD59CD6EE33610BE17E83B083AB545D64AB29736B0779175E222E8E6077112F416D0D2D8214A512A4905F6167DB21EFA487D850EF52F52926577E16D8B008125CEFF7C1CCE507FFDF1E7F8FD3A64CE2B0849233E714F46C7AE03DC8F02CA57133751CB37DFBBEFDF7DFDD5F83208D7CE5341F756D321279713F745A9F8CCF3A4FF022191A390FA2292D1528DFC28F4481079A7C7C73F7827271EA008176539CEF83EE18A86903EE0E334E23EC42A21EC3A0A80C9FC3DAECC53A9CE0D0941C6C48789FB44834F9BE9CC75CE1925A87E0E6CE93A84F3481185C69D3D4A982B11F1D53CC617843D6C6240BA25611272A3CF2AF2A1F61F9F6AFBBD8AB110E5275245E18E024FDEE601F14CF6BDC2EA9601C3905D6268D5467B9D866DE2FE085CA0E7A6A6B329139AAA0CE928253C72F2C7A332DD880AFD77E44C13A61201130E8912841D3977C98251FF27D83C44BF009FF084B1BA2D680DAE355EE0AB3B11C520D4E61E96B9855781EB784D3ECF642CD96A3C99F91F360ADDBB41DD64C1A0CCB4D7CBAEFF1702102E0877D7B926EB8FC057EA65E2E24FD799D13504C59B5CEA23A7B83B904989C45672435EE92A8DAEA10E630A91749D7B60E9B27CA17186DD51BAF49C276926A2F03E620547F6FAF9818815283437B2D7E651227CC392B15781A0171AA9A021D04809FF7BD0B8E2EAED690B366AAECE5524004309822808EE885220B8960169B0BE0C8E0C25881A2012820BA248A10C7FC3030D0720BF139439E6F6C36481BB364C16781D82C97329239FA606D441992B6F7A72C903A7C7922C09A5FD980804258D1186A877E27E6745A65D5EB9DB2A7979247AE58DBD9A2BF6AEC3334E118A30CBBD3C8FB5A094F862A11761AD5A76229E66F9669439564C17B4F039A87A4EB1D054C16EBA6045A0C95ED4298B3D8FA8C15EF3D8905180A746D1822D73FFF727B834B6B2D31B26A148694D421128B3B8345D6A017099C8AA4BF1B236A56867BC8E7E667C4DE2182B44ADBFC9DF38F3ACB999BE99EFDE0084990CCF972D7D40696DA909EB1D5981B18AAAD1D2191552E922B320BA8E4C83D0226B856D07A60A950D64DA092B905690EBDF2592AAC6C4E4ACA2374387422CD7A96F60E6D8E64BFB4AC288683937A6114B42DE75F6F4716727419D3F7B634B187B86E1664C3C2B280648CD100F4A40BE67F64940B6FB774F4007DF974E409784E6395B97D45C397C4A9B55A925AF45BDEDC85DB1DC9AA0CE5ADCD6C4366BB21D884189CD24B5A55707A2D4BB9B497991DFD3A44CC66E2699A7859D3AEBD030494AE094878771488CF382BD7D32B62A7846E23A68FB2BC609ABF77C231584234D309AFFCAA68C22542B826BC2E912A4CA5A7617E7D45363CEFEF7CCBC9E94011B32F81E7CE850946FA80EEB3F1849F92B11FE0B11DF8464FD6D5D923D2EEC38EC1D3C1C6928B64E598789D5B0D12A401BD5F6D16AB7C0EF0DC69E5A69137755B1ED09ABD4D4D2668D23573C80F5C4FD2D653A73AE7E7E2EF88E9C5B8125E4CC39767EDF399D95D9C6161A6040C1BB83017BCDA2AD479E396F6C9F424FAC83F6965F20081538E77E564CA744FA24B083A6CFA15EEDB51EA06EC290E9555FCAC21284DE8F84E1712595C003CBEA63EE04E53E8D096B786D9FB943AA8876A99467AE5C400C5C9707DBC121DAFA3A8C52B411DE6D01E89CF0FB71D3D697D4326727AD355FFF33DC0CCFE46171D3D7067E76DCB4DF0CD993F8802B9FEE1B9FAC0BC4536DA1AB5356133B2E3F5A6F83BA2F83DA24B75FCCB44BEE32BCBED8A9A3C3856D3752E56552EFC554C77863577B6BD6DD7A23D570DA9CC186DF460D71B5B8F5EA77B57D6CB20B9475AF72285777B878B36725DC9DB56F8D581D245D5522F497470E7E635F9634577C191505C2B0A82031DA986B50049B47722E145D125FE1B20F52A61F059E084B90E4325C4070C56F1315270A5D8670C11A1F197499E9D39FDE2E366D1EDFC6E9FDFDE77001CDA4BAFFBDE51F12CA82D2EE594B17D52142D7AFBCD5D7B954BAE55F6D4A4937111F28280F5F59761F208C190A93B77C4E5E611FDB1E257C8415F137C5C8DB2D647B229A611F5F50B2122494B98C8A1F1F11C341B87EF737A2137C1E721F0000 , N'6.4.4')
END

IF @CurrentMigration < '202202261724203_EditedVideosOneToManyRelationToGenres'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Videos_Video_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id]
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Video_Id] ON [dbo].[VideoGenres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]
    ALTER TABLE [dbo].[Videos] ADD [Genre_Id] [tinyint]
    CREATE INDEX [IX_Genre_Id] ON [dbo].[Videos]([Genre_Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id])
    DROP TABLE [dbo].[VideoGenres]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202261724203_EditedVideosOneToManyRelationToGenres', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400D559DB6EE336107D2FD07F10F4D41659CB495E5AC3DE45D6890BA39B0BA224E85B404B63872845AA2415D82DFA65FBB09FD45FE8507751B2237BBBD91601025B9C399CCBE10C47FEFBE3A7F1BB75C49C67908A0A3E718F0743D7011E8890F2D5C44DF4F2CD8FEEBBB7DF7E33BE08A3B5F350C89D1A39D4E46AE23E691D8F3C4F054F10113588682085124B3D0844E491507827C3E14FDEF1B10708E12296E38C6F13AE6904E917FC3A153C805827845D8A1098CA9FE38A9FA23A57240215930026EE030DFFD84C67AE73C628C1ED7D604BD7219C0B4D341A37BA57E06B29F8CA8FF10161779B18506E499882DCE85125DED7FEE189B1DFAB140BA820515A447B021E9FE601F16CF583C2EA9601C3905D6068F5C6789D866DE2FE0C5CA2E7F64EA3299346AA0CE920153C72F2AF4765BA9115E6EFC899264C2712261C122D093B726E9205A3C12FB0B913BF019FF084B1BA2D680DAE351EE0A31B2962907A730BCBDCC279E83A5E53CFB3154BB59A4E66FEFB8D46F7AE706FB2605066DADBA96EFE17004817A4BBEB5C92F507E02BFD3471F1A3EBCCE81AC2E2498E7ACF299E0E54D232B136197B55E8772604030CA24F4252C1FF5F42E65C9F9E7464A4E6AAAF8504E41B48A221BC215A83E40603D2607D85ECB537B905064441784E342936C3CF7047A31E7CBB22CF74953A6BC1E6C711D1D355F544E3AC8A65E97ECCD7675244B7821574C91E3FFA229181715DB4D7EE885C81EEC7C933A544405303EAA4CC376F7A72C14367872559124AFB3111484A1A230D71DF89FB432B32DD7885F535BC3C124DBCE160706CFB58F3A67DF0B0B968429169B9A367B1C14A85CF176611D6BAE330621BC9CFA3CAE9627B61C07DD0F5B42AD7A9E2DDF4A21584A67A1A8A2EF53CA8967ACD630BA3E04F4DA2835E7609D89DE3D2D8CA4EAF1F4291D51A421128BBBE345DEAE07099C8EA7AE065F783E21EE16DB9488C2F491C6391A85D2CF2278E9FDD2AA66FFCFD3B6F94617881EA68C0A5B5E54E58F2C80AAC55DC1A2D9D51A9B4A9330B624AC9348C5A629DB4DDC2A962CB0633DB092B9856889BCF2593AA1B81AD59456F860E4558B153DFC0CE715B2FBDD011466447EB980A96447C5BFBD9A59D3583BA7EF6A48D30F62CC3ED9878ADA05824B543DC2B01F999392401D9E9DF3F015BF4BE7602B621345B6D1DA9B9F2FA296D56A58EBC16F5764BEE8AE55E093245D48A4C47316DC7A0574E338CAECC9A1894FBEE6752DE210E34696F63B0EE8534BDB4CC95B9809597AF3E8EDA2DA69DEF56A7B1454AB6951DC7EA2CE3BCCABF3CC7B6CA7E26E23AE8FB3346184BBEBF511AA2811118F8BFB329A3C8EF4AE09270BA04A5B3ABBE8B53E5893515FF7726544FA990F519535F7D58D1946FA809EB670C90FC99C8E089C8EF22B2FEBE8EF4D943E2AB87230DC58BD3D9EBC4AADF4816A28DBAD748D635883D7630A1350BCC7908EB89FB67AA3872E6BF3E16BA47CEB5C4A3387286CE5F8725FEB049ACD674F61B96DA37F5434638641B484306C2B0562A2DB15AB63AEF0DCEE5018D096BD8DC6E157D286CE257E2D92BE7100337DC6CB8D567A35D3DB144B5CED24BBEEF398EB6AFFF3DE6CCED6366D645F0542C4C6233326E99B83A47D0ED13681772F734F805A7D386F7B551E3C579B43DC47E9909B4DDFF9131B5B7DD485645571584B9D270081A5C2965E67C290AD25A161522564DBB044DB0209233A9E992041A9703502A7D41F64058822217D102C239BF4E749C687419A2056BBC7033D4DFB57F3A66376D1E5FC7E9BBAC7FC30534939A9A7ECDDF279485A5DDB3764DDF0661CE54DEBE4C2EB56963AB4D897425784FA03C7C6529B883286608A6AEB94F9EE110DBEE157C80150936C5356E3BC8CB8968867D7C4EC94A9248E51895BEF905C7333FE1BCFD0774FAD2E4F4190000 , N'6.4.4')
END

IF @CurrentMigration < '202202261729326_AddedClassificationColumnToVideosTable'
BEGIN
    ALTER TABLE [dbo].[Videos] ADD [Classification] [int] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202261729326_AddedClassificationColumnToVideosTable', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400D559CD6EE33610BE17E83B083AB545D6B2934B1BD8BBC83AF1C2E83A09E224E82DA0A5B14394A254920AEC167DB21EFA487D850E25EA8F926DD9BB9B6DB1C0C2226786F3F3717E987FFEFA7BF86E1D32E70584A4111FB9835EDF7580FB5140F96AE4266AF9E647F7DDDB6FBF195E05E1DA79CCE9CE341D727239729F958ACF3D4FFACF1012D90BA92F22192D55CF8F428F049177DAEFFFE40D061EA008176539CEF02EE18A86907EE0E738E23EC42A216C1605C0A459C79D792AD5B92621C898F830721F69F0FB663C719D0B46091E3F07B6741DC279A48842E5CE1F24CC9588F86A1EE30261F79B18906E499804A3F47949DE55FFFEA9D6DF2B1973517E2255141E287070661CE2D9EC47B9D52D1C862EBB42D7AA8DB63A75DBC8FD005CA0E5F649E763263455E1D25E4A78E298CF9322DC880AFDEFC419274C2502461C1225083B716E9305A3FECFB0B98F7E053EE20963555D501BDCAB2DE0D2AD8862106A73074BA3E134701DAFCEE7D98C055B852753FFFD46A179D7783659302822EDED64D7FFE702102E0877D79991F547E02BF53C72F1A7EB4CE81A827CC5487DE0146F0732299158870CBDD2F53B03820E86A84B4052C2FF5F40A65C9D9DB644A462EA5C4502106F208882E0962805826B19903AEB2B44AF79C81D302012824BA2487E18FE867B1A1E8EB7312352D225F5CD2D37BA63F2EAD95BFB245F9317BA4A69AD33CC4547BDD35DF94C6373440AA427B33F11517817B11C88D9F2D33C4A84AF9D1A35F7EE895881EA8AF624AC60DD366E2A278CACCA7CBCFF12D4257CF26D400C0420D8063153456BDDC5330817208C0973CAB040BACE2361097E0E1A01A9517F885850D09EEEA6BDD581427F15F4674D1F67DEAC2E5E4819F934F54635A198F0D68FBBE281B323D625084D4E9AA10B698C4EC3C88EDC1F1AEAB7CBCBF1519167B05697D7EFF506B685156B9A49131B0345282F1C76116B5929F1E5426FC25AB560085B00032369AEBA6D85163E0755BD38D2754A44D7AD6838A1CE9EBAA28DDD38D562AF586CC9C86F6885A2E502DBE97B778C0B654B3DBD6E12F2A85624E48EB26B43DDA4962C5104B26CEDBCACB7CB7B406F4B13389C9138C6CB5A690ACD8A33CF3AC2F19BF9E15D5398C9F07CD9D23C15DA162761B9222BB076F168D474428554BA462C884E68E3206C90B5C2760BA6F2236BC86C062C475A4EAE7F17482ABB399BB3F4DE040D0AB1DAA6B6811DE3265FDA8C1346444BD91F472C09F9B6D661177756C8ABFCD94A53C2D0B314B77DE2359C6281D47671A700983B734C00B2DB7F7800B6F07DED006C93506F93AA92EA3BDD25DA3D4355A6BDF7FA40A9E7BA16B4E4597C0B22F2ED4E61D7A9D9F24E4B8A6EFAA0135232196D78D13E28CE3D4C2553778E54E96065309B06346D85A65237CE4563D9C550BB7035E3DDA85F364981B6A28E59F56A686AC7FE978D4631C9485C076D7F410F6321996FA482B0A7097AF3DFD89851C4774930239C2E41AAACDD754FFB8353EB9DE4BFF366E14919B02E0F17AF3EBE624B8ED381FAA42705FE4284FF4CC47721597F5F95F4C9CF06AFEE8ED4157BE7F5D7F155B7213D401DD5E71BD28FC14299712C4C356695298EA3EB91FB47CA78EE4C7F79CA794F9C1B8197FADCE93B7F1E07A1E326C54AF93A6C986B4E12C78C98885B101A568461D69538C9D3660DBF1594FB3426ACA673B3E874B90CDA7F853C7BE71262E01AE535B3BA1CB4ABBA1652AD5BB9CFF603C7E5E678D2610EDE3E0667F508EFD742073603E39689B07544DE3E21B7496E9F56BFE0F45CB3BE320AED9D979B43F69799909B9D0422A6F2971404ABA4AB52846E8E38F835AC143453BE8C72D05A1AE524564E9B8122985AC9855074497C85DB3E60BED48FAFE6FDEA2A5C4030E537898A13852643B860B5C75C0DFD5DE7A7CF00759D873771FA9AF9394C4035A9AE0E37FC7D422BEF7493664EDF2642DF295308752C952E88AB4D21E93AE21D0519F715A9E01EC298A13079C3E7E4058ED1ED41C24758117F933784DB85EC0F44DDEDC34B4A568284D2C828F9F113311C84EBB7FF02EAB5AE7F501C0000 , N'6.4.4')
END

IF @CurrentMigration < '202203031841009_ChangeVideoTableRelationships'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.Videos_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[Videos]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[Videos]
    EXECUTE sp_rename @objname = N'dbo.Videos.Genre_Id', @newname = N'GenreId', @objtype = N'COLUMN'
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Name] [nvarchar](255) NOT NULL
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Classification';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Classification] [tinyint] NOT NULL
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'GenreId';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [GenreId] [tinyint] NOT NULL
    CREATE INDEX [IX_GenreId] ON [dbo].[Videos]([GenreId])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_GenreId] FOREIGN KEY ([GenreId]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202203031841009_ChangeVideoTableRelationships', N'VidzyCF.Migrations.Configuration',  0x1F8B0800000000000400D5595F6FDB36107F1FB0EF20E8691B522B7650600BEC16A91317C6EA248892626F052D9D1D6214A58954606FD827DBC33ED2BEC28E12254BA4E47F4DBA15050A8BBC7FBCFBDDF18EF9E7AFBF876F5711739E201534E623B7DF3B751DE0411C52BE1CB9995CBCFAD17DFBE6DB6F865761B4723E9674678A0E39B918B98F5226E79E2782478888E845344863112F642F88238F84B137383DFDC9EBF73D40112ECA729CE15DC6258D20FFC0CF71CC03486446D82C0E8109BD8E3B7E2ED5B9261188840430723FD2F0F7F578E23A178C1254EF035BB80EE13C9644A271E70F027C99C67CE927B840D8FD3A01A45B1026401B7DBE21DFD7FED381B2DFDB3096A2824CC8383A5060FF4C3BC433D98F72AB5B390C5D7685AE956B75EADC6D23F73DF0144F6E6A3A1FB35451552EEDE584278EFE3CA9C28DA850FF4E9C71C66496C288432653C24E9CDB6CCE68F033ACEFE35F818F78C658DD16B406F71A0BB8749BC609A4727D070B6DE134741DAFC9E7998C155B8DA730FFDD5AE2F1AE51379933A822ED6D6557FF9702102E0877D79991D507E04BF93872F1A7EB4CE80AC272454B7DE014B30399649AD94AAEC9135DE6DE35D4A14F2116AE73072CDF168F3429B0DBCBB73EE9204DD238BA8B59C9512C7FBA27E912249A1BDB7B7E9CA58161C9D0DB80602B347241FB402327FCFAA031E5F26CD0828DDA517D19A780AE849448086F89949072250372677D268E06AF5FEF85A303D18B30022220BC249294DAF137DCD3E87061634684A00B1AE802A40FA3B0696E1D283947E8A189DA99433A458E4BA1324DDA52A84CAFFD52288B6A09643A682A268C2C37D7CDEECC6A4AF8EC1443608590B23502B1E6F4A6876710CD21D527F029C3EBDF753E1296E167DF8A4783FA7DCCC28A76B09DF656C509DD55D19FD92E2E9C595FBC10220E68EE8C7A91D2D16DAABBE2A1B325D41B1CEB3A37430FD2047D86811DB93F58E6B7CBABAAEF469E865A535EDF35CBD90DBFC44495E05C04456B30262220A18D79F444D85CC10A08A92A418461772430E0944BBB5C521ED084B06EAB0D963D6BAC32A9126EEE5C42025C95C76EDFEFA3B52A0EB6EA4A83E1A55D4E197A35F4D8171FF248E4A8007A91A8D8E5C49773B5092BD992B2D850EAAC15BA5C9BA851C27D90F583E15DBF29204DD458A06BB297AD82C5AE416CB0D74E6CC8280B628DA2A55E9ACEDF9E5395B11B3BADF06DCFA29A84D2516632348FD45294AB406E0605AF9814CA89C2EB182986339224581B6B23865E71FC62BE18BFF20FEFC1A3428617889656BCB2B6D2842D075982B18BAAD1D2094D8554D7FA9CA8FB631C4616592B6C3B3055AA6C20D30E5889B4925CFDAE90B4990D5AF25A734CF040912A09793B65C6D8E6CB473BC248DAD2BA8D639645BCBB34757317CD589DBF58B1250C3DC370AB06594EB12A76D3C57B0540E7CC310128B2FFF00074F0FDD701E892D0EC6CEB929A3BFB4B345BB4BA4C736F7FA9D5ED5517D779A5BD30E0ACBA689254DAABFA68D4C1A1AE49BBDF5FAC225590B80E3AE809B18605CA5F0B09514F11F4FCDFD898513CEF866046385D809045D7EA0E4EFB03E335E7FFF3B2E20911B27D9E57BEF8688BAD3536F9F2B31E3EF813498347927E1791D5F77549F6E3C6814F0A5FDC1DB92B76CEF2CFE02B7BBC7F86D93D447BE5F3CDEEC762C398D72B31564B3CC5EE7C3572FFC8F9CE9DE92F9F34EB897393628A9F3BA7CE9F3BD47721EAB80150F7BA5F7446331ADD6326CEA3C6BCAE5EEC6526BBAF6498B39BE73DA6B4EE21ADB8D53033E72AAE05883BE695D601AE7B7E6B93DC3E4BBDE06CD7387DAD51DF39CDD923E0CBCC6F763F8288A9FDD508B12AE8722342FD0D8943D0C04A4533E58BB8C4AC6151496254C219488245995CA4922E4820713B00ACB4EA7957BF665D457308A7FC26934926F1C810CD59E3B958417F9BFE7C486DDA3CBC49F2A7CDE738029A49D5BD72C3DF65B4F66A376929C51D22544EE9EB54C552AA6B75B9AE245DC77C4F41DA7D5529B8872861284CDC709F3CC131B63D08F8004B12ACCBB6B25BC8EE4034DD3EBCA46499924868191B7EFC440C87D1EACDBFE4D998333C1D0000 , N'6.4.4')
END

